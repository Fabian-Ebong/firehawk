{
  "cloud": {
    "Pools": "one,two,three,none",
    "IamFleetRole": "arn:aws:iam::972620357255:role/aws-ec2-spot-fleet-tagging-role",
    "AllocationStrategy": "capacityOptimized",
    "TargetCapacity": 5,
    "SpotPrice": "5.568",
    "ValidFrom": "2019-08-23T04:25:09Z",
    "ValidUntil": "2020-08-23T04:25:09Z",
    "TerminateInstancesWithExpiration": true,
    "LaunchSpecifications": [
      {
        "ImageId": "{{ ami_id }}",
        "InstanceType": "m5a.16xlarge",
        "SubnetId": "{{ subnet_id }}",
        "KeyName": "my_key_pair_dev",
        "SpotPrice": "3.456",
        "IamInstanceProfile": {
          "Arn": "{{ spot_instance_profile_arn }}"
        },
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeType": "standard",
              "VolumeSize": 16,
              "SnapshotId": "{{ snapshot_id }}"
            }
          }
        ],
        "SecurityGroups": [
          {
            "GroupId": "{{ security_group_id }}"
          }
        ]
      },
      {
        "ImageId": "{{ ami_id }}",
        "InstanceType": "m5d.16xlarge",
        "SubnetId": "{{ subnet_id }}",
        "KeyName": "my_key_pair_dev",
        "SpotPrice": "4.544",
        "IamInstanceProfile": {
          "Arn": "{{ spot_instance_profile_arn }}"
        },
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeType": "standard",
              "VolumeSize": 16,
              "SnapshotId": "{{ snapshot_id }}"
            }
          }
        ],
        "SecurityGroups": [
          {
            "GroupId": "{{ security_group_id }}"
          }
        ]
      },
      {
        "ImageId": "{{ ami_id }}",
        "InstanceType": "r5d.16xlarge",
        "SubnetId": "{{ subnet_id }}",
        "KeyName": "my_key_pair_dev",
        "SpotPrice": "5.568",
        "IamInstanceProfile": {
          "Arn": "{{ spot_instance_profile_arn }}"
        },
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeType": "standard",
              "VolumeSize": 16,
              "SnapshotId": "{{ snapshot_id }}"
            }
          }
        ],
        "SecurityGroups": [
          {
            "GroupId": "{{ security_group_id }}"
          }
        ]
      },
      {
        "ImageId": "{{ ami_id }}",
        "InstanceType": "r5a.16xlarge",
        "SubnetId": "{{ subnet_id }}",
        "KeyName": "my_key_pair_dev",
        "SpotPrice": "4.352",
        "IamInstanceProfile": {
          "Arn": "{{ spot_instance_profile_arn }}"
        },
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeType": "standard",
              "VolumeSize": 16,
              "SnapshotId": "{{ snapshot_id }}"
            }
          }
        ],
        "SecurityGroups": [
          {
            "GroupId": "{{ security_group_id }}"
          }
        ]
      },
      {
        "ImageId": "{{ ami_id }}",
        "InstanceType": "c5.18xlarge",
        "SubnetId": "{{ subnet_id }}",
        "KeyName": "my_key_pair_dev",
        "SpotPrice": "3.996",
        "IamInstanceProfile": {
          "Arn": "{{ spot_instance_profile_arn }}"
        },
        "BlockDeviceMappings": [
          {
            "DeviceName": "/dev/sda1",
            "Ebs": {
              "DeleteOnTermination": true,
              "VolumeType": "standard",
              "VolumeSize": 16,
              "SnapshotId": "{{ snapshot_id }}"
            }
          }
        ],
        "SecurityGroups": [
          {
            "GroupId": "{{ security_group_id }}"
          }
        ]
      }
    ],
    "Type": "maintain",
    "InstancePoolsToUseCount": 7
  }
}